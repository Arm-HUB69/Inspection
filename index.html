<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PCG ‚Ä¢ Inspection</title>
  <link id="theme-css" rel="stylesheet" href="style.css">
</head>

<body>

<header class="topbar">
  <div class="topbar-left">
    <span class="brand">PCG ‚Ä¢ Inspection</span>
  </div>

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ -->
  <button id="menuToggle" class="menu-btn">‚ò∞</button>

  <!-- ‡πÄ‡∏°‡∏ô‡∏π -->
  <nav id="mobileMenu" class="nav-links">
    <a href="index.html" class="nav-item">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
    <a href="dashboard_fixed.html" class="nav-item">Dashboard</a>
    <a href="view-report.html" class="nav-item">View Report</a>
    <a href="manage-photos.html" class="nav-item">Manage Photos</a>
  </nav>
</header>


<main class="wrap">

  <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å -->
  <section class="card center">
    <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</h2>

    <div class="dept-grid">
      <button class="dept-btn" data-dept="Blending">Blending</button>
      <button class="dept-btn" data-dept="Packing">Packing</button>
      <button class="dept-btn" data-dept="Intake">Intake</button>
    </div>

    <p class="muted">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</p>
  </section>

  <!-- FLOW -->
  <section id="flow" class="card" style="display:none">

    <div class="crumbs">
      <span id="crumbDept"></span>
      <button id="backToDept" class="link">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</button>
    </div>

    <form id="inspectionForm" class="form">

      <div class="form-row">
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</label>
        <input id="ownerName" required />
      </div>

      <div class="form-row">
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤</label>
        <input id="supervisorName" />
      </div>

      <div id="dynamicArea"></div>
      <div id="checkpoints" class="check-list"></div>

      <div class="form-row">
        <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</label>
        <input id="workDate" type="date" required />
      </div>

      <div class="form-row">
        <button id="uploadBtn" type="button" class="btn primary">‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button>
      </div>

      <div id="status" class="muted small"></div>
    </form>
  </section>

</main>

<footer class="footer">
  Made for PCG ¬∑ Inspection ¬∑ v1.1
</footer>

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- Script ‡∏´‡∏•‡∏±‡∏Å -->
<script type="module" src="script.js?v=6"></script>

<!-- FIXED MOBILE MENU SCRIPT (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤) -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.getElementById("menuToggle");
  const menu = document.getElementById("mobileMenu");

  if (!toggle || !menu) return;

  // toggle ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π
  toggle.addEventListener("click", () => {
    menu.classList.toggle("show");
  });

  // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π
  menu.querySelectorAll("a").forEach(a => {
    a.addEventListener("click", () => {
      menu.classList.remove("show");
    });
  });
});
</script>

<!-- Developer Credit Popup -->
<div id="devCreditOverlay"
     style="
       display:none; position:fixed; inset:0;
       background:rgba(0,0,0,0.65); backdrop-filter:blur(4px);
       justify-content:center; align-items:center; z-index:9999;
     ">
  <pre id="devAscii"
       style="color:white; font-size:16px; text-align:center;
              line-height:1.2; white-space:pre; padding:20px;">
  </pre>
</div>

<script>
// ----------- Settings -------------
const devAudio = new Audio("sounds/beer_open.mp3");  // ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå
let devClickCount = 0;
let asciiIndex = 0;

// ----------- ASCII Animation Frames -----------
const asciiFrames = [
`    /\\_/\\
   ( ‚âñ‚Äø‚âñ )
   (  ~  )
    \\   /
     |_|     üç∫ ACCESS GRANTED
DEV BY ARM`,

`    /\\_/\\
   ( ‚Ä¢‚Äø‚Ä¢ )
   (  ~  )
    \\   /
     |_|     üç∫ ACCESS GRANTED
DEV BY ARM`
];

// ----------- Show Popup -----------
function showDevPopup() {
  const overlay = document.getElementById("devCreditOverlay");
  const box = document.getElementById("devAscii");

  // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
  devAudio.currentTime = 0;
  devAudio.play().catch(()=>{});

  overlay.style.display = "flex";

  // ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö frame ‡πÅ‡∏°‡∏ß
  asciiIndex = 0;
  const anim = setInterval(()=>{
     box.textContent = asciiFrames[asciiIndex];
     asciiIndex = (asciiIndex + 1) % asciiFrames.length;
  }, 220);

  // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  setTimeout(()=>{
    clearInterval(anim);
    overlay.style.display = "none";
  }, 5000);
}

// ----------- Trigger ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á -----------
document.querySelector(".brand")?.addEventListener("click", () => {
  devClickCount++;

  if (devClickCount >= 3) {
    devClickCount = 0;
    showDevPopup();
  }
});
</script>


</body>
</html>
